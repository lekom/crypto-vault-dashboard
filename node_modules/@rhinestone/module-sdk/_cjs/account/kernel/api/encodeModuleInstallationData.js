"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.encodeModuleInstallationData = void 0;
const viem_1 = require("viem");
const encodeModuleInstallationData = ({ account, module, }) => {
    switch (module.type) {
        case 'validator':
        case 'executor':
            return (0, viem_1.encodePacked)(['address', 'bytes'], [
                module.hook ?? viem_1.zeroAddress,
                (0, viem_1.encodeAbiParameters)([{ type: 'bytes' }, { type: 'bytes' }], [module.initData, '0x']),
            ]);
        case 'hook':
            return module.initData;
        case 'fallback':
            return (0, viem_1.encodePacked)(['bytes4', 'address', 'bytes'], [
                module.selector,
                module.hook ?? viem_1.zeroAddress,
                (0, viem_1.encodeAbiParameters)([{ type: 'bytes' }, { type: 'bytes' }], [
                    (0, viem_1.encodePacked)(['bytes1', 'bytes'], [module.callType, module.initData]),
                    '0x',
                ]),
            ]);
        default:
            throw new Error(`Unknown module type ${module.type}`);
    }
};
exports.encodeModuleInstallationData = encodeModuleInstallationData;
//# sourceMappingURL=encodeModuleInstallationData.js.map