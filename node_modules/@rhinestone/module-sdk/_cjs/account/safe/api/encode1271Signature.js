"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.encode1271Signature = void 0;
const viem_1 = require("viem");
const encode1271Signature = ({ account, validator, signature, }) => {
    let formattedSignature = signature;
    if (account == validator) {
        const v = (0, viem_1.fromHex)((0, viem_1.slice)(signature, 64, 65), 'number');
        if (v < 30) {
            formattedSignature = (0, viem_1.concat)([(0, viem_1.slice)(signature, 0, 64), (0, viem_1.toHex)(v + 4)]);
        }
    }
    return (0, viem_1.encodePacked)(['address', 'bytes'], [validator, formattedSignature]);
};
exports.encode1271Signature = encode1271Signature;
//# sourceMappingURL=encode1271Signature.js.map