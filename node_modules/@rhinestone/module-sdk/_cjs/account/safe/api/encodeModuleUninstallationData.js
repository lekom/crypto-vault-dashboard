"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.encodeModuleUninstallationData = void 0;
const viem_1 = require("viem");
const common_1 = require("../../../common");
const types_1 = require("../types");
const encodeModuleUninstallationData = async ({ client, account, module, }) => {
    switch (module.type) {
        case 'validator':
        case 'executor':
            const prev = await (0, common_1.getPreviousModule)({ client, account, module });
            return (0, viem_1.encodeAbiParameters)([
                { name: 'prev', type: 'address' },
                { name: 'disableModuleData', type: 'bytes' },
            ], [prev, module.deInitData]);
        case 'hook':
            return (0, viem_1.encodeAbiParameters)((0, viem_1.parseAbiParameters)('uint8 hookType, bytes4 selector, bytes memory deInitData'), [
                module.hookType ?? types_1.SafeHookType.GLOBAL,
                module.hookType == types_1.SafeHookType.SIG ? module.selector : '0x00000000',
                module.deInitData,
            ]);
        case 'fallback':
            return (0, viem_1.encodeAbiParameters)((0, viem_1.parseAbiParameters)('bytes4 functionSig, bytes memory moduleDeInitData'), [module.functionSig, module.deInitData]);
        default:
            throw new Error(`Unknown module type ${module.type}`);
    }
};
exports.encodeModuleUninstallationData = encodeModuleUninstallationData;
//# sourceMappingURL=encodeModuleUninstallationData.js.map