"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDeadmanSwitch = void 0;
const viem_1 = require("viem");
const abi_1 = require("./abi");
const constants_1 = require("../../constants");
const getDeadmanSwitch = async ({ moduleType, nominee, timeout, hook, account, client, }) => {
    const isInitialized = (await client.readContract({
        address: constants_1.GLOBAL_CONSTANTS.DEADMAN_SWITCH_ADDRESS,
        abi: abi_1.abi,
        functionName: 'isInitialized',
        args: [account.address],
    }));
    return {
        address: constants_1.GLOBAL_CONSTANTS.DEADMAN_SWITCH_ADDRESS,
        module: constants_1.GLOBAL_CONSTANTS.DEADMAN_SWITCH_ADDRESS,
        initData: isInitialized
            ? '0x'
            : (0, viem_1.encodePacked)(['address', 'uint48'], [nominee, timeout]),
        deInitData: '0x',
        additionalContext: '0x',
        type: moduleType,
        hook,
    };
};
exports.getDeadmanSwitch = getDeadmanSwitch;
//# sourceMappingURL=installation.js.map