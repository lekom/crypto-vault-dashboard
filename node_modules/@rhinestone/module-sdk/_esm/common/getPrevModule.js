import { getAddress } from 'viem';
import { SENTINEL_ADDRESS } from './constants.js';
import { getInstalledModules } from './queries/index.js';
export const getPreviousModule = async ({ account, module, client, }) => {
    let installedModules = await getInstalledModules({
        client,
        account,
    });
    const index = installedModules.indexOf(getAddress(module.module));
    if (index === 0) {
        return SENTINEL_ADDRESS;
    }
    else if (index > 0) {
        return installedModules[index - 1];
    }
    else {
        throw new Error(`Module ${module.module} not found in installed modules`);
    }
};
//# sourceMappingURL=getPrevModule.js.map